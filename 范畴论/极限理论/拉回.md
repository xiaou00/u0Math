---
aliases:
  - 纤维积
---
#范畴论 
$$\renewcommand{\ob}[1]{\operatorname{ob}{\mathfrak{#1}}}
\renewcommand{\mor}[1]{\operatorname{Mor}{\mathfrak{#1}}}
\renewcommand{\dom}[1]{\operatorname{dom}{#1}}
\renewcommand{\cod}[1]{\operatorname{cod}{#1}}
\newcommand{\sub}[1]{\operatorname{Sub}{(#1)}}
\newcommand{\quot}[1]{\operatorname{Quot}{(#1)}}$$
>[!definition] 拉回
>设$\mc J=(\bullet\rightarrow\bullet\leftarrow\bullet)$. 则[[范畴]]$\frak C$中的一个$\mc J$型图为
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] & B \\ A & C \arrow["g", from=1-2, to=2-2] \arrow["f"', from=2-1, to=2-2] \end{tikzcd}
\end{document}
>```
>若该图的[[极限]]存在, 则可看作$\frak C$中的一个交换的方形$(P,(\bar f,\bar g))$, 我们可以省略$P\to C$的态射, 因为它可以由另外两个唯一确定:
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] P & B \\ A & C \arrow["{\bar f}", from=1-1, to=1-2] \arrow["{\bar g}"', from=1-1, to=2-1] \arrow["g", from=1-2, to=2-2] \arrow["f"', from=2-1, to=2-2] \end{tikzcd}
\end{document}
>```
>称该方形是一个**拉回方形**(pullback square)或**纤维积**(fibre product), $\bar g$称为$g$沿着$f$的**拉回**(pullback), 同理$\bar f$称为$f$沿着$g$的拉回. 如果范畴$\frak C$的任意一个形如$A\to C\leftarrow B$的图表都存在极限, 则称该范畴存在拉回.

由极限的定义可以看出$\frak C$的一个方形
```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] P & B \\ A & C \arrow["t", from=1-1, to=1-2] \arrow["r"', from=1-1, to=2-1] \arrow["g", from=1-2, to=2-2] \arrow["f"', from=2-1, to=2-2] \end{tikzcd}
\end{document}
```
是一个拉回方形当且仅当它是交换的, 并且对任意的交换方形
```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] {\hat P} & B \\ A & C \arrow["p", from=1-1, to=1-2] \arrow["q"', from=1-1, to=2-1] \arrow["g", from=1-2, to=2-2] \arrow["f"', from=2-1, to=2-2] \end{tikzcd}
\end{document}
```
 泛性质成立, 即存在唯一的态射$h:\hat P\to P$使得$p=th,q=rh$, 即下面图表交换
```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] {\hat P} \\ & P & B \\ & A & C \arrow["h"{description} ,dashed, from=1-1, to=2-2] \arrow["p", bend left=30, from=1-1, to=2-3] \arrow["q"', bend right=30, from=1-1, to=3-2] \arrow["t", from=2-2, to=2-3] \arrow["r"', from=2-2, to=3-2] \arrow["g", from=2-3, to=3-3] \arrow["f"', from=3-2, to=3-3] \end{tikzcd}
\end{document}
```

>[!ex] $\sf Set$
>集合范畴$\sf Set$存在拉回. 图表$A\xrightarrow f C\xleftarrow g B$的极限可以表达为积$A\times B$的子集
>$$A\times_CB=\set{(a,b)\in A\times B\mid f(a)=g(b)}$$
>为顶点的锥形(容易验证泛性质), $A\times _CB$到$A,B$的映射为射影, 即下面方形是拉回方形
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] {A\times_C B} & B \\ A & C \arrow["{p_B}", from=1-1, to=1-2] \arrow["{p_A}"', from=1-1, to=2-1] \arrow["g", from=1-2, to=2-2] \arrow["f"', from=2-1, to=2-2] \end{tikzcd}
\end{document}
>```

不难发现, 纤维积可以看作平行态射$fp_A,gp_B:A\times B\to C$的等值子. 因此**拉回可以由[[积]]和[[等值子]]完全确定**.

>[!theorem] 定理1
>设
>$$A\xrightarrow f C\xleftarrow g B$$
>是范畴$\frak C$的一对态射, 
>$$A\xleftarrow{\pi_A}A\times B\xrightarrow{\pi_B}B$$
>是$A$与$B$的[[积]], $e:E\to A\times B$是平行态射$f\pi_A,g\pi_B:A\times B\to C$的[[等值子]], 则下面方形是一个拉回方形
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] E & B \\ A & C \arrow["{\pi_Be}", from=1-1, to=1-2] \arrow["{\pi_Be}"', from=1-1, to=2-1] \arrow["g", from=1-2, to=2-2] \arrow["f"', from=2-1, to=2-2] \end{tikzcd}
\end{document}
>```

>[!proof]
>显然方形交换性是明显的, 设
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] {\hat E} & B \\ A & C \arrow["s", from=1-1, to=1-2] \arrow["r"', from=1-1, to=2-1] \arrow["g", from=1-2, to=2-2] \arrow["f"', from=2-1, to=2-2] \end{tikzcd}
\end{document}
>```
>是一个交换的方形, 由积的定义存在一个态射$\langle r,s\rangle:\hat E\to A\times B$, 使得
>$$r=\pi_A\langle r,s\rangle,\quad s=\pi_B\langle r,s\rangle$$
>因此有
>$$f\pi_A\langle r,s\rangle=g\pi_B\langle r,s\rangle$$
>由于$e:E\to A\times B$是$f\pi_A,g\pi_B:A\times B\to C$的等值子, 存在一个态射$h:\hat E\to E$使得$\langle r,s\rangle=eh$, 从而有
>$$r=\pi_A\langle r,s\rangle=\pi_Aeh,\quad s=\pi_B\langle r,s\rangle=\pi_Beh$$
>由[[极限|此页面定理2]]即得$h$的唯一性.

>[!definition] 拉回保持
>给定范畴$\frak C$的一族态射$M$, 若对任意的$g\in M$, $g$沿着任意态射$f$的拉回$\bar g$仍然属于$M$, 则称态射族$M$是**拉回保持的**(pullback stable).

>[!theorem] 定理2
>单态射族和正则单态射族都是拉回保持的.

>[!proof]
>对于拉回方形
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] P & B \\ A & C \arrow["{\bar f}", from=1-1, to=1-2] \arrow["{\bar g}"', from=1-1, to=2-1] \arrow["g", from=1-2, to=2-2] \arrow["f"', from=2-1, to=2-2] \end{tikzcd}
\end{document}
>```
>其中$f$是一个单态射, 若$u,v:Q\to P$满足$\bar fu=\bar fv$, 则
>$$f(\bar gu)=(f\bar g)u=(g\bar f)u=g(\bar fu)=g(\bar fv)=f(\bar g v)$$
>因此$\bar gu=\bar g v$, 由[[极限|此页面定理2]], $u=v$.
>
>如果上面的拉回方形中$f$是平行对态射$p,q:C\to R$的等值子, 则
>$$(pg)\bar f=(pf)\bar g=(qf)\bar g=q(g\bar f)=(qg)\bar f$$
>若$\hat f:\hat P\to B$满足$(pg)\hat f=(qg)\hat f$, 则存在一个态射$t:\hat P\to A$使得$g\hat f=ft$. 由拉回定义存在态射$h:\hat P\to P$使得$\hat f=\bar fh$. 另外由于正则单态射是单态射以及前面的证明可知$\bar f$是单态射. 故满足这样条件的$h$是唯一的. 这样我们就证明了$\bar f$是平行对态射$pg,qg:B\to R$的等值子.

>[!ex] 原像
>$\sf Set$中, 映射的原象可以用纤维积定义. 设$f:B\to C$, $i_C:A\hookrightarrow C$是内射. 由于$\sf Set$存在拉回, 总有$f^{-1}(A)$使得下图交换
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] {f^{-1}(A)} & A \\ B & C \arrow["f", from=1-1, to=1-2] \arrow["{i_B}"', hook, from=1-1, to=2-1] \arrow["{i_C}", hook, from=1-2, to=2-2] \arrow["f"', from=2-1, to=2-2] \end{tikzcd}
\end{document}
>```
>并且容易证明其满足泛性质. $f^{-1}(A)$就定义为$A$在$f$下的原像.





