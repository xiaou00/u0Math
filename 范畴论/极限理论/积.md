#范畴论 
$$\renewcommand{\ob}[1]{\operatorname{ob}{\mathfrak{#1}}}
\renewcommand{\mor}[1]{\operatorname{Mor}{\mathfrak{#1}}}
\renewcommand{\dom}[1]{\operatorname{dom}{#1}}
\renewcommand{\cod}[1]{\operatorname{cod}{#1}}
\newcommand{\sub}[1]{\operatorname{Sub}{(#1)}}
\newcommand{\quot}[1]{\operatorname{Quot}{(#1)}}$$
>[!definition] 积
>设$\mc J$是一个离散(没有态射)的[[范畴|小范畴]], 则范畴$\frak C$的一个$\mc J$型图是一个离散的图表. 若$\mc J$型图的[[极限]]
>$$\set{p_j:P\to A_j\mid j\in\ob{\mc J}}$$
>存在, 我们就称之为对象族$\set{A_j}_{j\in\ob{\mc J}}$的**积**(product). 称每个$p_j$为**射影**(projection). 若无歧义, $P$也通常写作$\prod A_i$
>
>若一个范畴中的任意一族对象都存在积, 则称该范畴存在积.
>若一个范畴中任意一族有限对象都存在积, 则称该范畴存在有限积.

显然, 由极限定义, 任意范畴$\frak C$中的一族以集合为指标的对象$\set{A_j}_{j\in J}$都可以看作是一个离散图表.
※$\set{p_j:P\to A_j\mid j\in\ob{\mc J}}$是积当且仅当其满足万有性质: 对任意一族态射$\set{q_j:Q\to A_j\mid j\in\mc J}$, 存在唯一的态射$r:Q\to P$使得$q_j=p_jr$对任意的$j\in\mc J$成立. 即对任意$j\in\mc J$, 下面图表交换:
```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] Q && P \\ & {A_j} \arrow["r", dashed, from=1-1, to=1-3] \arrow["{q_j}"', from=1-1, to=2-2] \arrow["{p_j}", from=1-3, to=2-2] \end{tikzcd}
\end{document}
```

>[!ex] $\sf Set$
>集合范畴$\sf Set$中的积就是Cartesian积, 参考[[极限|此页面的例]]. 设$\set{A_j}_{j\in J}$是一族集合, $\prod{A_j}$是其Cartesian积, 对每个$j\in J$, $p_j:\prod{A_j}\to A_j$是射影.

>[!ex] $\sf Top,Grp$
>拓扑空间范畴$\sf Set$ (群范畴$\sf Grp$)中的积类似于集合范畴, 并在其之上赋予积拓扑 (逐点运算).

>[!ex]  偏序集定义的范畴
>偏序集$X$定义的范畴中, 一族对象的积就是其下确界.

设$A_1,\ldots,A_n$是范畴中的对象, 不难验证$(\cdots((A_1\times A_2)\times A_3)\times\cdots\times A_n)$就是$\set{A_i\mid i=1,2,\ldots,n}$的积. 由于空图表的显然一个范畴存在有限积, 当且仅当存在[[终对象与始对象|终对象]]以及任意二元积.极限就是终对象, 

>[!definition] 态射的积
>设范畴$\frak C$存在积, $\set{f_i:A_i\to B_i\mid i\in I}$是$\frak C$中的一族态射, 其中$I$是集合. $\set{p_j:\prod{A_i}\to A_j\mid j\in I}$与$\set{r_j:\prod{B_i}\to B_j\mid j\in I}$分别是$\set{A_i}_{i\in I}$与$\set{B_i}_{i\in I}$的积, 则存在唯一的态射
>$$\prod{f_i}:\prod{A_i}\to\prod{B_i}$$
>使得以下图表交换:
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] {\prod{A_i}} & {\prod{B_i}} \\ {A_j} & {B_j} \arrow["{\prod{f_i}}", dashed, from=1-1, to=1-2] \arrow["{p_j}"', from=1-1, to=2-1] \arrow["{r_j}", from=1-2, to=2-2] \arrow["{f_j}"', from=2-1, to=2-2] \end{tikzcd}
\end{document}
>```
>称该态射为态射族$(f_i)_{i\in I}$的**积**.

>[!theorem] 定理1
>若每个$i\in I$都有$f_i:A\to B$是单态射, 则$\prod{f_i}:\prod{A_i}\to\prod{B_i}$是[[单态射&满态射|单态射]].

>[!proof]
>设$g,h:C\to\prod{A_i}$满足$(\prod{f_i})g=(\prod{f_i})h$, 即下列图表除了$C\rightrightarrows\prod{A_i}$的部分交换:
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] C & {\prod{A_i}} & {\prod{B_i}} \\ & {A_j} & {B_j} \arrow["g", shift left, from=1-1, to=1-2] \arrow["h"', shift right, from=1-1, to=1-2] \arrow["{\prod{f_i}}", from=1-2, to=1-3] \arrow["{p_j}"', from=1-2, to=2-2] \arrow["{r_j}", from=1-3, to=2-3] \arrow["{f_j}"', from=2-2, to=2-3] \end{tikzcd}
\end{document}
>```
>则对任意的$i\in I$, 我们有$f_ip_ig=f_ip_ih$成立, 由单态射得$p_ig=p_ih$, 由[[极限|此页面定理2]]得$g=h$.

>[!theorem] 定理2
>设范畴$\frak C$存在积, $I$是集合, 对每个$i\in I$, $e_i:E_i\to A_i$是$f_i,g_i:A_i\to B_i$的[[等值子]], 则$\prod{e_i}:\prod{E_i}\to\prod{A_i}$是$\prod{f_i},\prod{g_i}:\prod{A_i}\to\prod{B_i}$的等值子.

>[!proof]
>对每个$j\in I$, 设$p_j:\prod{A_i}\to A_j$, $q_j:\prod{B_i}\to B_j$, $r_j:\prod{E_i}\to E_j$是射影
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] {\prod{E_i}} & {\prod{A_i}} & {\prod{B_i}} \\ {E_j} & {A_j} & {B_j} \arrow["{\prod{e_i}}", from=1-1, to=1-2] \arrow["{r_j}"', from=1-1, to=2-1] \arrow["{\prod{f_i}}", shift left, from=1-2, to=1-3] \arrow["{\prod{g_i}}"', shift right, from=1-2, to=1-3] \arrow["{p_j}"', from=1-2, to=2-2] \arrow["{q_j}"', from=1-3, to=2-3] \arrow["{e_j}"', from=2-1, to=2-2] \arrow["{f_j}", shift left, from=2-2, to=2-3] \arrow["{g_j}"', shift right, from=2-2, to=2-3] \end{tikzcd}
\end{document}
>```
>首先我们有
>$$\left(\prod f_i\right)\left(\prod e_i\right)=\prod\left(f_ie_i\right)=\prod\left(g_ie_i\right)=\left(\prod g_i\right)\left(\prod e_i\right)$$
>满足$(\prod f_i)h=(\prod g_i)h$, 则有$f_jp_jh=g_jp_jh$对每个$j\in I$成立. 因此对每个$j\in I$都存在一个态射$h_j:C\to E_j$使得$p_jh=e_jh_j$, 从而由积的万有性质, 存在态射$\hat h:C\to \prod E_i$使得$h_j=r_j\hat h$对每个$j\in I$成立. 这时$p_j(\prod e_i)\hat h=e_jr_j\hat h=e_jh_j=p_jh$, 由[[极限|此页面定理2]]可得$(\prod e_i)\hat h=h$, 由定理2得$\hat h$是唯一的.

>[!corollary] 推论1
>一族正则单态射的积仍然是正则单态射.

>[!theorem] 定理3
>设小范畴$\frak C$存在积(或余积), 则对任意$A,B\in \ob C$, 态射集$\mathfrak C(A,B)$最多只有一个元素. 因此任意一个存在积(或余积)的小范畴都同构于一个偏序集, 使得任意一族元素都存在上下确界.

>[!proof]
>若$\frak C$存在积, 设$A,B\in\ob C$使得态射集$\mathfrak C(A,B)$含有两个以上的元素, 取$f,g:A\to B$且$f\ne g$, 令集合$\mor C$的基数$\operatorname{card}{\mor C}=t$. 考虑$B$的$t$此幂
>$$\set{p_j:B^t\to B\mid j\le t}$$
>由积的定义我们有$\operatorname{card}\mathfrak C(A,B^t)\ge 2^t$, 与$\operatorname{card}\mor C=t$矛盾. 因此$\mathfrak C(A,B)$最多含有一个元素. 对偶地可以证明余积的情形.

