#范畴论 
$$\renewcommand{\ob}[1]{\operatorname{ob}{\mathfrak{#1}}}
\renewcommand{\mor}[1]{\operatorname{Mor}{\mathfrak{#1}}}
\renewcommand{\dom}[1]{\operatorname{dom}{#1}}
\renewcommand{\cod}[1]{\operatorname{cod}{#1}}
\newcommand{\sub}[1]{\operatorname{Sub}{(#1)}}
\newcommand{\quot}[1]{\operatorname{Quot}{(#1)}}$$
>[!quote]- Intro
>在数学中, 我们经常会遇到这样的构造: 给定某个具体[[范畴]]的一个小的子范畴(也可以看作一个小范畴到该范畴的一个[[函子]]的像), 存在一个对象以及该对象到子范畴中的每个对象的一个态射构成的可交换态射族具有"万有性质". 或者, 存在一个对象以及子范畴中每个到该对象的一个态射构成的可交换态射族具有"万有性质".
>
>例如对于一族拓扑空间$\set{X_i}_{i\in I}$, 则积空间$\prod X_i$到每个因子空间的射影族
>$$\set{\pi_j:\prod{X_i}\to X_j\mid j\in I}$$
>具有"万有性质", 即对任意一个拓扑空间以及连续映射族
>$$\set{f_i:X\to X_i\mid i\in I}$$
>都存在唯一的连续映射$f:X\to\prod X_i$使得每个$f_i$都可以通过$f$分解为$f_i=\pi_i\circ f$. 这种性质可以抽象为纯粹的范畴性质,  也就是极限和余极限.

>[!definition] $\mc J$型图
>设$\mc J$是一个[[范畴]](若无补充默认小范畴), 我们称任意一个[[函子]]$D:\mc J\to\frak C$为范畴$\frak C$中的一个**$\mc J$型图**(若无歧义, 简称为图). 如果$\mc J$是一个有限范畴($\operatorname{ob}\frak C$是有限集), 则称$\mc J$型图是一个有限图.
>
>对于$\mc J$的每个对象$j$, 称$D(j)$为该$\mc J$型图的**顶点**(vertex).
>对于$\mc J$的每个态射$\alpha$, 称$D(\alpha)$为该$\mc J$型图的**边**(edge).

p.s. 若$D$是$\frak C$的一个小的子范畴, 则包含函子$\mc I:D\hookrightarrow\frak C$也是$\frak C$中的一个图, 此时直接称$D$是$\frak C$中的一个图.

定义中, 我们提出的$\mc J$其实是作为"模板"的一个范畴. 事实上, 我们也并不关心其对象和态射究竟是什么, 我们更关心它的结构.

例如, 设$\mc J$是一个有限范畴 $\bullet\rightrightarrows\bullet$ , 则范畴$\frak C$中的一个$\mc J$型图可以看作$\frak C$中的一对平行态射. 又比如, 设$\mc J$是下图中的有限范畴:
```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] \bullet & \bullet \\ \bullet & \bullet \arrow[from=1-1, to=1-2] \arrow[from=1-1, to=2-1] \arrow[from=1-1, to=2-2] \arrow[from=1-2, to=2-2] \arrow[from=2-1, to=2-2] \end{tikzcd}
\end{document}
```
则范畴$\frak C$中的$\mc J$型图就是$\frak C$中的一个交换的方形. 当然我们也不强求$\mc J$是有限范畴, 但他无限时也大有意义, 例如

```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] \bullet & \bullet & \bullet & \cdots \arrow[from=1-1, to=1-2] \arrow[from=1-2, to=1-3] \arrow[from=1-3, to=1-4] \end{tikzcd}
\end{document}
```

就是范畴$\frak C$中的一列用态射连接的对象.

>[!definition] 锥形
>设$D:\mc J\to\frak C$是一个$\mc J$型图, $A\in\operatorname{ob}\frak C$, 如果态射族$\set{\lambda_j:A\to D(j)\mid j\in\operatorname{ob}\mc J}$满足对任意的$\mc J$中态射$\alpha:j\to j'$都有等式$\lambda_{j'}=D(\alpha)\lambda_j$成立, 即下面图表交换:
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] & A \\ {D(j)} && {D(j')} \arrow["{\lambda_j}"', from=1-2, to=2-1] \arrow["{\lambda_{j'}}", from=1-2, to=2-3] \arrow["{D(\alpha)}"', from=2-1, to=2-3] \end{tikzcd}
\end{document}
>```
>则称$\set{\lambda_j:A\to D(j)\mid j\in\operatorname{ob}\mc J}$是$D$上的一个**锥形**(cone), $A$称为该锥形的**顶点**.

由锥形, 我们可以引出极限的定义:

>[!definition] 极限
>设$D:\mc J\to\frak C$是一个$\mc J$型图, $A\in\operatorname{ob}\frak C$, 如果$\set{\lambda_j:A\to D(j)\mid j\in\operatorname{ob}\mc J}$是一个$D$上的锥形, 并且该锥形关于$D$上的任意一个锥形是万有的, 即对任意$B\in\operatorname{ob}\frak C$以及$D$上的一个以$B$为顶点的锥形$\set{\mu_j:B\to D(j)\mid j\in\operatorname{ob}\mc J}$, 都存在唯一的态射$f:B\to A$使得$\mu_j=\lambda_jf$对每个$j\in\operatorname{ob}\mc J$成立, 即下列图表交换:
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd}[row sep=large] B & {} & A \\ & {D(j)} \arrow["f", dashed, from=1-1, to=1-3] \arrow["{\mu_j}"', from=1-1, to=2-2] \arrow["{\lambda_j}", from=1-3, to=2-2] \end{tikzcd}
\end{document}
>```
>则称锥形$\set{\lambda_j:A\to D(j)\mid j\in\operatorname{ob}\mc J}$是$\mc J$型图$D$的**极限**(limit). 实际应用中, 若极限锥形中的态射族由其顶点唯一确定, 我们省去态射, 直接称该锥形的顶点为极限.

换句话说, 极限就是符合条件的"最小"的锥形. 设$D:\mc J\to\frak C$是$\mc J$型图, 考虑$D$的全体锥形作为对象, 两个$D$上的锥形
$$\set{\alpha_j:A\to D(j)\mid j\in\ob{\mc J}}\quad\text{与}\quad\set{\beta_j:B\to D(j)\mid j\in\ob{\mc J}}$$
之间的态射是指态射$h:A\to B$, 满足$\alpha_j=\beta_jh$对任意的$j\in\ob{\mc J}$成立(也就是极限定义中的图表). 我们把这样构成的范畴称为$D$对应的**锥形范畴**, 记作$\Delta\downarrow D$. 从定义容易发现, $\mc J$型图的极限就是该范畴的[[终对象与始对象|终对象]]. 由[[终对象与始对象|此页面定理1]]可知得以下定理:

>[!theorem] 定理1
>设$D:\mc J\to\frak C$是一个$\mc J$型图. 如果锥形
>$$\set{\lambda_j:A\to D(j)\mid j\in\ob{\mc J}}\quad\text{与}\quad\set{\mu_j:B\to D(j)\mid j\in\ob{\mc J}}$$
>都是$D$的极限, 则存在一个同构$h:A\to B$使得$\lambda_j=\mu_jh$对每个$j\in\ob{\mc J}$成立.

>[!ex] Cartesian积
>在$\sf Set$范畴中, 两个对象的Cartesian积可以由极限定义.
>其中指标范畴$\mc J$包含两个对象$\set{\bullet_A,\bullet_B}$并且是离散的, 没有任何态射.
>以$K$为顶点的锥形是一组态射(映射)$\mu=(\pi_A,\pi_B)$, 即如下图表
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd} {D(\bullet_A)} & {K} & {D(\bullet_B)} \arrow["{\pi_A}"', from=1-2, to=1-1] \arrow["{\pi_B}", from=1-2, to=1-3] \end{tikzcd}
\end{document}
>```
它的极限是万有的那个锥形
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd} {D(\bullet_A)} & {D(\bullet_A)\times D(\bullet_B)} & {D(\bullet_B)} \arrow["{\pi_A}"', from=1-2, to=1-1] \arrow["{\pi_B}", from=1-2, to=1-3] \end{tikzcd}
\end{document}
>```
>我们来验证. 不妨记$L=D(\bullet_A)\times D(\bullet _B)$, 于是对任意其他锥形$(M,(\mu_A,\mu_B))$, 存在唯一的函数$f:M\to L$使得以下图表交换
>```tikz
\usepackage{tikz-cd}
\begin{document}
\Large
\begin{tikzcd} M & {D(\bullet_A)\times D(\bullet_B)} \\ {D(\bullet_A)} & {D(\bullet_B)}   
\arrow["f", dashed, from=1-1, to=1-2] \arrow[dashed, from=1-1, to=1-2] \arrow["{\mu_A}"', from=1-1, to=2-1] \arrow["{\mu_B}"{description, pos=0.3}, from=1-1, to=2-2] \arrow["{\pi_A}"{description, pos=0.3}, from=1-2, to=2-1] \arrow["{\pi_B}", from=1-2, to=2-2] \end{tikzcd}
\end{document}
>```
>而函数的选取是显然的, 只需取$f(m)=(\mu_A(m),\mu_B(m))$即可. 从而极限就是集合的Cartesian积.
>注意, 这里我们定义的Cartesian积仍旧和我们常见的Cartesian积有一定差异. 这是因为我们是从范畴的角度关注的, 而范畴只关注对象之间的态射(同构), 不关心具体的元素.


若$\set{\lambda_i:A\to D(j)\mid j\in\ob{\mc J }}$是$\mc J$型图$D:\mc J\to \frak C$的极限, 态射$f,g:B\to A$使得$\lambda_jf=\lambda_jg$对任意$j\in\ob{\mc J}$成立, 则$\set{\lambda_if:A\to D(j)\mid j\in\ob{\mc J }}$和$\set{\lambda_ig:A\to D(j)\mid j\in\ob{\mc J }}$是同一个锥形, 由极限定义的万有性质可知$f=g$. 也就是下述定理:

>[!theorem] 定理2
>设$\set{\lambda_i:A\to D(j)\mid j\in\ob{\mc J }}$是$\mc J$型图$D:\mc J\to\frak C$的极限, 则$\set{\lambda_j}_{j\in\ob{\mc J}}$是一族集体单态射: 即对任意一对态射$f,g:B\to A$, r若$\lambda_jf=\lambda_jg$对任意的$j\in\ob{\mc J}$成立, 则$f=g$.

>[!definition] 交
>设$A$是范畴$\frak C$的一个对象, $\set{(A_i,f_i)\mid i\in I}$是$A$的一族子对象 ($I$是集合). 将图表$\set{f_i:A_i\to A\mid i\in I}$看作$\frak C$中的一个图. 若该图极限存在, 则极限锥形的顶点$C$到$A$的态射将完全由$C$到$A$的每个子对象$A_i$的态射确定. 记$C$到子对象$A_i$的态射为$\alpha_i$, 则由定理2, 不难验证$f_i\alpha_i:C\to A$是单态射. 因此$(C,f_i\alpha_i)$仍是$A$的子对象, 称之为对象族$\set{(A_i,f_i)\mid i\in I}$的**交**(intersection). 不难看出子对象族$\set{(A_i,f_i)\mid i\in I}$的交就是$\set{(A_i,f_i)\mid i\in I}$在$A$的子对象偏序族$\sub{A}$中的下确界.

