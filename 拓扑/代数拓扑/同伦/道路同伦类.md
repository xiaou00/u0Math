#代数拓扑 

>[!definition] 道路同伦类
>我们知道, [[道路同伦]]是一种[[等价关系]], 我们可以约定[[拓扑空间]]$X$上全体[[道路]]的一个划分, 其中道路$f$所代表的等价类记作$[f]$.

现在, 我们尝试定义一种道路同伦类之间的运算. 我们先定义朴素道路的乘法

>[!definition] 道路乘法
>设$f$是空间$X$中$x_0$到$x_1$的一条道路, $g$是$X$中$x_1$到$x_2$的一条道路, 则定义$f*g$为$$f*g(s)=\begin{cases}
f(2s)&s\in[0,\frac12] \\
g(2s-1)&s\in[\frac12,1]
\end{cases}$$
>由[[黏结引理]], 这个定义是确切的, 称之为$f$与$g$的**乘积**(product).

显然, 两条道路的乘积就是简单地将他们头尾相接, 我们想验证这个运算对于道路同伦类也成立, 即
$$[f]*[g]=[f*g]$$
验证这点其实是显然的, 设$\mc F$是$f,f'$之间的一个同伦, 其中$f'$是$[f]$中任意一个元素, 设$\mc G$是$g,g'$之间的一个同伦, $g'$是$[g]$中的任意一个元素, 不妨设
$$
\mc H(s,t)=
\begin{cases}
\mc F(2s,t)&s\in[0,\frac12] \\
\mc G(2s-1,t)&s\in[\frac12,1]
\end{cases}
$$
对所有的$t$都有$\mc F(1,t)=x_1=\mc G(0,t)$从而这个映射是确切的, 且由粘结引理, 它也是连续的, 从而也是道路同伦, 如下图所示:

```tikz
\usepackage{pgfplots}
\begin{document}
\begin{tikzpicture}[scale=0.3]
    \draw[thick] (-29,1)--(-29,7)--(-23,7)--(-23,1)--cycle;
    \draw[thick,gray,dashed] (-29,4)--(-23,4);
    \node[thick] at (-21.5,4) {\LARGE $\ast$};
    \draw[thick] (-20,1)--(-20,7)--(-14,7)--(-14,1)--cycle;
    \draw[thick,gray,dashed] (-20,4)--(-14,4);
    \draw[line width=1pt,cyan] (-29,1)--(-29,7);
    \draw[line width=1pt,red] (-14,1)--(-14,7);
    \draw [thick] (-13,4.25)--(-9,4.25);
    \draw [thick] (-13,3.75)--(-9,3.75);
    \draw [thick] (-8,0)--(-8,8)--(0,8)--(0,0)--cycle;
    \draw [line width=1pt,cyan] (-8,0)--(-8,8);
    \draw [line width=1pt,red] (0,0)--(0,8);
    \draw [thick,dashed,gray] (-8,2)--(0,2);
    \draw [thick,dashed,gray] (-8,4)--(0,4);
    \draw [thick,dashed,gray] (-8,6)--(0,6);
    \draw [line width=1pt] (-4,0)--(-4,8);
    \draw[thick,->] (2,4) to[bend left=20] node[above] {$\mathcal{H}$} (6,4);
    \draw[thick,rounded corners=10pt] (8,0)--(8,8)--(18,8)--(18,0)--cycle;
    \coordinate (x0) at (9,7);
    \coordinate (x1) at (13,4);
    \coordinate (x2) at (17,1);
    %upper
    \foreach \i in {1,...,4}{
        \draw[gray,smooth,thick] plot coordinates{
            (x0)
            ({13-0.8*\i},{7-0.6*\i})
            (x1)
        };
        \draw[gray,smooth,thick] plot coordinates{
            (x1)
            ({17-0.8*\i},{4-0.6*\i})
            (x2)
        };
    }
    \draw[smooth,thick] plot coordinates{
        (x0)
        (13,7)
        (x1)
    };
    \draw[smooth,thick] plot coordinates{
        (x0)
        (9,4)
        (x1)
    };
    %lower
    \draw[smooth,thick] plot coordinates{
        (x1)
        (17,4)
        (x2)
    };
    \draw[smooth,thick] plot coordinates{
        (x1)
        (13,1)
        (x2)
    };
    \filldraw[cyan] (x0) circle (4pt);
    \filldraw[] (x1) circle (4pt);
    \filldraw[red] (x2) circle (4pt);
\end{tikzpicture}
\end{document}
```

显然, $\mc H$就是$f*g$以及$f'*g'$之间的道路同伦.

>[!theorem] 定理1
>设$g$是$x_0$到$x_1$的道路, $h$是$x_1$到$x_2$的道路, $f$是连续映射, 则
>$$f\circ(g*h)\simeq_p(f\circ g)*(f\circ h)$$

>[!proof]
>由同伦定义即证.

>[!theorem] 定理2
>设$f,g,h$都是空间$X$上的道路, 运算$\ast$构成拥有广群性质, 即
>1. (结合律) 若$[f]*([g]*[h])$有定义, 则$([f]*[g])*[h]$也有定义, 且它们相等.
>2. (左/右单位元) 给定$x\in X$, 令$e_x:I\to X$定义为映射到单点$x$的道路, 如果$f$是一条从$x_0$到$x_1$的道路, 则
>$$[f]*[e_{x_1}]=[f],\quad[e_{x_0}]*[f]=[f]$$
>3. (逆元) 给定$f$是$x_0$到$x_1$的一条道路, 则$\bar f(s)=f(1-s)$是从$x_1$到$x_0$的一条道路, 称之为$f$的逆, 则
>$$[f]*[\bar f]=[e_{x_0}],\quad[\bar f]*[f]=[e_{x_1}]$$

>[!proof]
>我们先证明两个显然的引理
>
>**L1**. 若$k:X\to Y$是连续映射, $\mc F$是$X$中道路$f,f'$的道路同伦, 则$k\circ\mc F$便是$Y$中道路$k\circ f$与$k\circ f'$之间的道路同伦. <span style="color:rgb(128,128,128)">(结论是显然的, 因为连续映射的连续映射仍然连续)</span>
>**L2**. 若$k:X\to Y$是连续映射, $f,g$是$X$中两条道路且$f(1)=g(0)$, 则$k\circ(f*g)=(k\circ f)*(k\circ g)$.<span style="color:rgb(128,128,128)">(这也是显然的, 由运算的定义即证)</span>
>
>---
>**I**. 先证明性质(2). 令$e_0$是$I$中取常值0的道路, $\id I:I\to I$是恒等映射, 同时也是一条0到1的道路.
>```tikz
\usepackage{pgfplots}
\usetikzlibrary{decorations.markings}
\tikzset{
mid arrow/.style={
decoration={
markings,
mark=at position 0.5 with {\arrow{latex}} 
},
postaction={decorate}
}
}
\begin{document}
\begin{tikzpicture}[]
\draw[very thin,color=gray] (0,0) grid (2,2);
\draw[thick,->] (0,0) -- (2+0.2,0) node[right] {$s$};
\draw[thick,->] (0,0) -- (0,2+0.2) node[above] {$u$};
\draw[thick,->] (2.2,1) to[bend left=30] node[above,pos=0.5] {$f$} (3.8,1);
\draw[line width=1pt,mid arrow,red] (0,0)--(1,0);
\draw[line width=1pt,mid arrow,red] (0,0)--(2,2) node[above,left,pos=0.5] {\small $u=\mathrm{id}_I(s)$};
\draw[line width=1pt,mid arrow,red] (1,0)--(2,2) node[below,pos=0] {\small $u=(e_0*\mathrm{id}_I)(s)$};
\draw[thick,rounded corners=5pt] (4,0)--(4,2)--(7,2)--(7,0)--cycle node[above left,pos=0] {$X$};
\draw[red,smooth,thick,mid arrow] plot coordinates{(4.5,0.5)(5,1.2)(6,0.7)(6.5,1.5)};
\filldraw (4.5,0.5) circle (1pt);
\filldraw (6.5,1.5) circle (1pt);
\filldraw (0,0) circle (1pt);
\filldraw (2,2) circle (1pt);
\end{tikzpicture}
\end{document}
>```
>由$I$的凸性容易证明$\id I$与$e_0*\id I$之间存在一个道路同伦$\mc G$, 从而$f\circ\mc G$就是$X$中道路$f\circ\id I=f$与道路
>$$f\circ(e_0*\id I)=(f\circ e_0)*(f\circ\id I)=e_{x_0}*f$$
>之间的一个道路同伦. 同理可证$[f]*[e_{x_1}]=[f]$, 只需令$e_1$为1处的常值道路即可.
>
>---
>**II**. 证明性质(3). 显然道路$\id I$的逆是$\overline{\id I}(s)=1-s$, 显然$\id I*\overline{\id I}$是$I$中一条以0为起点, 0为终点的道路. $e_0$也是以0为起点, 0为终点的道路:
>```tikz
\usepackage{pgfplots}
\usetikzlibrary{decorations.markings}
\tikzset{
mid arrow/.style={
decoration={
markings,
mark=at position 0.6 with {\arrow{latex}} 
},
postaction={decorate}
}
}
\begin{document}
\begin{tikzpicture}[]
\draw[very thin,color=gray] (0,0) grid (2,2);
\draw[thick,->] (0,0) -- (2+0.2,0) node[right] {$s$};
\draw[thick,->] (0,0) -- (0,2+0.2) node[above] {$u$};
\draw[thick,->] (2.2,1) to[bend left=30] node[above,pos=0.5] {$f$} (3.8,1);
\draw[line width=1pt,mid arrow,red] (0,0)--(2,0) node[below,pos=0.5] {\small $u=e_0(s)$};
\draw[line width=1pt,mid arrow,red] (0,0)--(1,2) node[above right,pos=1] {\small $u=\mathrm{id}_I*\overline{\mathrm{id}_I}(s)$};
\draw[line width=1pt,mid arrow,red] (1,2)--(2,0);
\draw[thick,rounded corners=5pt] (4,0)--(4,2)--(7,2)--(7,0)--cycle node[above left,pos=0] {$X$};
\draw[red,smooth,thick,mid arrow] plot coordinates{(4.47,0.53)(5,1.24)(6,0.74)(6.47,1.53)};
\draw[red,smooth,thick,mid arrow] plot coordinates{(6.53,1.47)(6,0.66)(5,1.16)(4.53,0.47)};
\filldraw (4.5,0.5) circle (1pt);
\filldraw (6.5,1.5) circle (1pt);
\filldraw (0,0) circle (1pt);
\filldraw (1,2) circle (1pt);
\filldraw (2,0) circle (1pt);
\end{tikzpicture}
\end{document}
>```
>显然$I$是凸的, 存在$e_0$与$\id I*\overline{\id I}$之间的同伦$\mc H$. 因此$f\circ \mc H$是$f\circ e_0=e_{x_0}$与
>$$(f\circ\id I)*(f\circ\overline{\id I})=f*\bar f$$
> 之间的一个道路同伦. 同理可证$[\bar f]*[f]=[e_{x_1}]$.
> 
> ---
>**III**. 最后我们来证明(1). 为此我们需要一个新的引理.
>
>**L3**. 若$[a,b]$和$[c,d]$是$\R$的两个闭区间, 那么有唯一的形如$p(x)=mx+k$的映射$p:[a,b]\to[c,d]$将$a$映射成$c$, $b$映射成$d$, 称之为$[a,b]$到$[c,d]$的**正线性映射**. 它的图像是$\R^2$一条具有正斜率的线段. 正线性映射的逆映射, 复合映射仍然是正线性映射.
>
>显然, 乘积$f*g$可以被描述为: 在$[0,1/2]$上是$[0,1 /2]$到$[0,1]$的正线性映射与$f$的复合, 在$[1/2,1]$上是$[1 /2,1]$到$[0,1]$的正线性映射与$g$的复合.
>
>给定$X$中道路$f,g,h$, 使得$f*(g*h)$和$(f*g)*h$有定义的条件都是$f(1)=g(0)$且$g(1)=h(0)$, 假设这两个条件都成立, 我们来定义三重积$f*g*h$:
>
>在$I$上选取$a,b$使得$0<a<b<1$. 定义一条道路$k_{a,b}$如下: 在$[0,a]$上, 它等于从$[0,a]$到$I$的正线性映射与$f$的复合, 在$[a,b]$上等于$[a,b]$到$I$的正线性映射与$g$的复合, 在$[b,1]$上等于从$[b,1]$到$I$的正线性映射与$h$的复合.
>
>道路$k_{a,b}$依赖$a,b$的选取, 然而同伦类却不. 我们来证明: 若$c,d$是$I$中另外两点满足$0<c<d<1$, 则$k_{c,d}$同伦于$k_{a,b}$.
>```tikz
\usepackage{pgfplots}
\usetikzlibrary{decorations.markings}
\tikzset{
mid arrow/.style={
decoration={
markings,
mark=at position 0.6 with {\arrow{latex}} 
},
postaction={decorate}
}
}
\begin{document}
\def\r{0.1}
\begin{tikzpicture}[]
\draw[very thin,color=gray] (0,0) grid (4,4);
\draw[thick,->] (0,0) -- (4+0.2,0) node[right] {$s$};
\draw[thick,->] (0,0) -- (0,4+0.2) node[above] {$u$};
\draw[line width=1pt,mid arrow,red] (0,0)--(1,2);
\draw[line width=1pt,mid arrow,red] (1,2)--(3,3);
\draw[line width=1pt,mid arrow,red] (3,3)--(4,4);
\filldraw (0,0) circle (1pt);
\filldraw (1,2) circle (1pt);
\filldraw (3,3) circle (1pt);
\filldraw (4,4) circle (1pt);
\draw[thick] (1,\r)--(1,-\r) node[below] {$a$};
\draw[thick] (3,\r)--(3,-\r) node[below] {$b$};
\draw[thick] (4,\r)--(4,-\r) node[below] {$1$};
\draw[thick] (\r,2)--(-\r,2) node[left] {$c$};
\draw[thick] (\r,3)--(-\r,3) node[left] {$d$};
\draw[thick] (\r,4)--(-\r,4) node[left] {$1$};
\node[red] at (3,1) {$u=p(s)$};
\end{tikzpicture}
\end{document}
>```
>如上图, 设$p:I\to I$为上图中的映射, 将这个映射限制于$[0,a]$,$[a,b]$和$[b,1]$, 分别是到$[0,c]$,$[c,d]$和$[d,1]$的正线性映射, 显然$k_{c,d}\circ p=k_{a,b}$. 由于$p$和$\id I$都是从0到1的道路, 因此在$I$中, $p$和$\id I$之间有同伦$\mc P$. 于是$k_{c,d}\circ P$就是$X$中$k_{a,b}$与$k_{c,d}$之间的道路同伦.
>
>由于$f*(g*h)$恰好是在$a=1 /2$和$b=3 /4$时的三重积$k_{a,b}$, $(f*g)*h$恰好是$c=1 /4$和$d=1 /2$时的三重积$k_{c,d}$, 从而这两条路是道路同伦的.
