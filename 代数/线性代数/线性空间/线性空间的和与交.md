#线性空间
##### 前置
- [[线性空间]]
- [[线性子空间]]

>[!definition] 线性空间的和
>若$V_1,V_2\le V$ ($V_1,V_2$有相同的运算), 定义两个空间的**和**(sum) $V_1+V_2$为
>$$V_1+V_2:=\set{\vec{v}_1+\vec{v}_2|\vec{v}_1\in V_1,\vec{v}_2\in V_2}$$

>[!definition] 线性空间的交
>若$V_1,V_2\le V$, 那么$V_1\cap V_2$也构成线性空间, 称为子空间$V_1$与$V_2$的**交**(intersection).

>[!theorem] 定理1
>若$V_1,V_2\le V$, 那么$V_1+V_2$是线性空间, 且是$V$同时包含$V_1,V_2$的最小的线性子空间.
>若$V_1,V_2\le V$, 那么$V_1\cap V_2$是线性空间, 且是$V$同时被$V_1,V_2$包含的最大的线性子空间.

>[!proof]
>先证明其为线性空间, 不妨取$\vec{a}=(\vec{a}_1+\vec{a}_2),\vec{b}=(\vec{b}_1+\vec{b}_2)$, 其中$\vec{a}_1,\vec{b}_1\in V_1,\vec{a}_2,\vec{b}_2\in V_2$. 那么一定有
>$$k\vec{a}+l\vec{b}=k\vec{a}_1+k\vec{a}_2+l\vec{b}_1+l\vec{b}_2,$$
>由于$k\vec{a}_1+l\vec{b}_1\in V_1, k\vec{a}_2+l\vec{b}_2\in V_2$, 因此$k\vec{a}+l\vec{b}\in V_1+V_2$, 这就证明了$V_1+V_2$是线性空间.
>
>假设存在更小的线性$V'$空间包含$V_1, V_2$, 那么一定存在一个元素$\vec{c}\in V_1+V_2\land \vec{c}\notin V'$.
>由于$V'$包含$V_1$与$V_2$的所有向量, 因此其也包含所有$V_1\cup V_2$的线性组合, 显然$\vec{c}\in V'$矛盾, 因此$V_1+V_2$是$V$同时包含$V_1,V_2$的最小的线性子空间.
>
>类似地可以证明另一个结论.

>[!theorem] 定理2(维数公式)
>若$V_1,V_2\le V(\F)$, 那么
    $$\dim(V_1+V_2)+\dim(V_1\cap V_2)=\dim{V_1}+\dim{V_2}$$

>[!proof]
>取$V_1\cap V_2$的一组基$B$, 由[[线性子空间|此页面定理1]], $B$可以扩张成$V_1$的基$B_1$与$V_2$的基$B_2$, 显然$B_1\cap B_2=B$. 下面我们证明$B_1\cup B_2$是$V_1+V_2$的一组基.
>
>假设$C=B_1\cup B_2$线性相关, 取$C$的极大线性无关组$C'$, 此时一定可以取到$\vec{x}\in C\setminus C'$. 假设$\vec{x}\in B_1$, 令
>$$\vec{x}=\sum_{i=1}^{n}{k_i\vec{s}_i}+\sum_{j=1}^{m}{l_j\vec{t}_j},\quad\vec{s}_i\in B_1\setminus\set{\vec{x}},\vec{t}_j\in B_2,k_i,l_j\in\F,n,m\in\N$$
>那么
>$$\vec{x}-\sum_{i=1}^{n}{k_i\vec{s}_i}=\sum_{j=1}^{m}{l_j\vec{t}_j}\tag{1}$$ 
>此时等式左边是$B_1$的线性组合, 右边是$B_2$的线性组合, 令等式两边的向量为$\vec{y}$, 不难发现$\vec{y}\in V_1\cap V_2$. 因此它可以表示成$B$的线性组合:
>$$\vec{y}=\sum_{\iota=1}^{\mu}{\lambda_\iota\vec{r}_\iota},\quad \vec{r}_\iota\in B,\lambda_\iota\in\F,\mu\in\N$$
>故有
>$$\sum_{j=1}^{m}{l_j\vec{t}_j}=\sum_{\iota=1}^{\mu}{\lambda_\iota\vec{r}_\iota}$$
>移项得
>$$\sum_{j=1}^{m}{l_j\vec{t}_j}-\sum_{\iota=1}^{\mu}{\lambda_\iota\vec{r}_\iota}=0$$
>由于$\vec{r}_\iota,\vec{t}_j\in B_2$, 因此一定线性无关, 故上式系数部分一定全为零, 即$l_j=0,j=1,2,\ldots,m,\lambda_\iota=0,\iota=1,2,\ldots,\mu$.
>回到 (1)式, 由于式子右边为$0$, 可以得出
>$$\vec{x}=\sum_{i=1}^{n}{k_i\vec{s}_i}$$
>因此$\vec{x}$是$B_1\setminus\set{\vec{x}}$的线性组合, 这与$B_1$是一组基矛盾, 即$\vec{x}\notin B_1$, 同理可得$\vec{x}\notin B_2$, 即$\vec{x}\notin B_1\cup B_2$, 这又与原设矛盾, 因此$B_1\cup B_2$线性无关.
>显然$\span(B_1\cup B_2)\supset V_1+V_2$, 这就证明了$B_1\cup B_2$是$V_1+V_2$的基, 由维数的定义以及容斥原理就证明了原公式.
