#线性代数 

我们回想[[多重线性映射]], 他在每个位置上都是线性的, 但它本身却不是[[算子|线性映射]]. 因为它的定义域是一个Cartesian积, 而不是[[线性空间]].

>[!definition] 张量积
>对于线性空间$U,V$, 我们定义自由生成线性空间$\free{U\times V}$为所有形如$(u,v),u\in U,v\in V$的元素再视作朴素的基元素生成的自由线性空间$\span\ms F(U\times V)$, 其中$\ms F$为[[遗忘函子]].
>
>接下来, 在这个更大的线性空间中, 我们希望多一些限制, 因为此时的$(\vec u_1+\vec u_2,\vec v)$和$(\vec u_1,\vec v)+(\vec u_2,\vec v)$不是同一个元素. 为了解决这个问题, 我们引入关系元$R$, 它由所有违反双线性关系的元素组成:$$
\begin{aligned}
R:=\span\{&(\lambda_1\vec u_1+\lambda_2\vec u_2,\mu_1\vec v_1+\mu_2\vec v_2)-\lambda_1\mu_1(\vec u_1,\vec v_1)-\lambda_1\mu_2(\vec u_1,\vec v_2)-\lambda_2\mu_1(\vec u_2,\vec v_1)-\lambda_2\mu_2(\vec u_2,\vec v_2) \\
&\mid\vec u_1,\vec u_2\in U;\vec v_1,\vec v_2\in V;\lambda_1,\lambda_2,\mu_1,\mu_2\in\F\}
\end{aligned}$$
>最终, 我们定义[[线性商空间]]$U\otimes V:=\free{U\times V}/R$, 称之为线性空间$U,V$的**张量积**(tensor product). 对于$u\in U,v\in V$, $u\otimes v:=(u,v)+R$, 称之为**纯张量**.

由定义, 显然有如下结论:

>[!theorem] 定理1 (张量积的等价定义)
>张量积$U\otimes V$是所有形如$\vec u\otimes \vec v$的元素[[张成]]的线性空间, 并且满足以下约束($a,b,c,f\in\F$):
>$$(a\vec u_1+b\vec v_1)\otimes(c\vec u_2+d\vec v_2)=ac\vec u_1\otimes \vec u_2+ad\vec u_1\otimes\vec v_2+bc\vec v_1\otimes\vec u_2+bd\vec v_1\otimes\vec v_2$$

>[!theorem] 定理2 (张量积的泛性质)
>对任意线性空间$W$和任意双线性映射$f:U×V\to W$, 存在唯一的线性映射$\tilde f:U\otimes V\to W$使得以下图表交换:
>```tikz
\usepackage{tikz-cd}
\begin{document}
\large
\begin{tikzcd}[row sep=huge]
U\times V \arrow[d, "f"'] \arrow[r, "\otimes"] & U\otimes V \arrow[ld, "\tilde f", dashed] \\
W                                              &                                          
\end{tikzcd}
\end{document}
>```
>即$\tilde f(\vec u\otimes\vec v)=f(\vec u,\vec v)$对于所有$\vec u,\vec v$成立.

>[!proof]
>我们知道由张量积的构造$\otimes:U\times V\to\free{U\times V} /R$, 任取双线性映射$f:U\times V\to W$. 定义一个映射$\tilde f:U\otimes V\to W$满足$\tilde f\circ \otimes=f$, 对于$\vec u\in U,\vec v\in V$, 定义
>$$\tilde f(\vec u\otimes \vec v)=f(\vec u,\vec v)$$
>可以由$U\otimes V$的线性运算将其扩展到整个$U\otimes V$:
>$$\tilde f\left(\sum{\lambda_{\vec u,\vec v}\vec u\otimes\vec v}\right)=\sum{\lambda_{\vec u,\vec v}f(\vec u,\vec v)}$$
>我们证明若$\vec u\otimes\vec v=\vec u'\otimes\vec v'$, 则$\tilde f(\vec u\otimes\vec v)=\tilde f(\vec u'\otimes\vec v')$. 这可以由双线性性立即得到. 又由
>$$\tilde f(\lambda(\vec u\otimes\vec v))=\tilde f(\lambda\vec u\otimes\vec v)=f(\lambda\vec u,\vec v)=\lambda f(\vec u,\vec v)=\lambda\tilde f(\vec u\otimes \vec v)$$$$\begin{aligned}
\tilde f(\vec u\otimes \vec v+\vec u'\otimes \vec v')&=f(\vec u, \vec v)+f(\vec u',\vec v')\\
&=\tilde f(\vec u\otimes \vec v)+\tilde f(\vec u'\otimes \vec v')
\end{aligned}$$
>因此$f$是线性的.
>
>---
>下面证明唯一性, 条件$\tilde f\circ \otimes=f$使得$\tilde f(\vec u\otimes \vec v)$的定义是唯一的, 而$\set{\vec u\otimes \vec v}_{\vec u\in U,\vec v\in V}$必定包含了$U\otimes V$的一组基, 因此延拓方式也唯一.

>[!theorem] 定理3
>若$\set{\vec u_i},\set{\vec v_j}$分别是$U,V$的一组基, 则$\set{\vec u_i\otimes \vec v_j}$是$U\otimes V$的一组基.

>[!proof]
>显然$\set{\vec u_i\otimes \vec v_j}$生成$U\otimes V$, 下面证明其无关. 假设存在一个线性组合使其成为零张量$\vec 0\in U\otimes V$:
>$$\sum_{i,j}{c_{ij}(\vec u_i\otimes \vec v_j)}$$
>不妨设$\set{\mu_i},\set{\nu}_i$分别是$U,V$的[[对偶空间|对偶基]], 对于任意$i_0,j_0$, 我们构造一个$U\otimes V\to K$的线性映射$\Phi_{i_0j_0}$, 它是由双线性映射$\Phi'_{i_0j_0}:U\times V\to K$诱导的:
>$$\Phi'_{i_0j_0}(\vec u,\vec v)=\mu_{i_0}(\vec u)\nu_{j_0}(\vec v)$$
>不妨将$\Phi_{i_0j_0}$作用于零张量
>$$\Phi_{i_0j_0}\left(\sum_{i,j}{c_{ij}(\vec u_i\otimes \vec v_j)}\right)=\Phi_{i_0j_0}(\vec 0)=\vec 0$$
>由线性性得
>$$\sum_{i,j}{c_{ij}\Phi_{i_0j_0}(\vec u_i\otimes\vec v_j)}=\vec 0$$
>从而由张量积的性质以及对偶基的定义
>$$\Phi_{i_0j_0}(\vec u_i\otimes\vec v_j)=\Phi'_{i_0j_0}(\vec u_i,\vec v_j)=\mu_{i_0}(\vec u_i)\nu_{j_0}(\vec v_j)=\delta_{i_0i}\delta_{j_0j}$$
>于是
>$$\sum_{i,j}{c_{ij}(\delta_{i_0i}\delta_{j_0j})}=\vec 0$$
>显然上式不为$\vec 0$当且仅当$\delta_{i_0i}=1,\delta_{j_0j}=1$, 即$i_0=i,j_0=j$. 因此上式等价于
>$$c_{i_0j_0}=0$$
>由于$i_0,j_0$是任意的, 因此所有系数$c_{ij}$必为0, 证毕.

>[!corollary] 推论1
>对任意有限维线性空间$U,V$, 有$\dim U\otimes V=\dim U\cdot\dim V$. 

>[!theorem] 定理4
>设$U,V,W$是线性空间, 则
>1. $U\otimes V\cong V\otimes U$.
>2. $(U\otimes V)\otimes W\cong U\otimes(V\otimes W)$.

>[!proof]
>我们先构造一个$U\times V$到$V\otimes U$的映射$\Phi(\vec u,\vec v)=\vec v\otimes \vec u$, 显然它是双线性的, 由张量积的泛性质, 有满足$T(\vec u\otimes \vec v)=\vec v\otimes\vec u$的线性映射$T$. 容易构造其逆映射$S$, 因此$T$是同构. 
>类似地可以证明(2). 定义$T:(U\otimes V)\otimes W\to U\otimes(V\otimes W)$使得
>$$T((\vec u\otimes \vec v)\otimes \vec w)=\vec u\otimes(\vec v\otimes \vec w)$$
>容易定义其逆映射
>$$S(\vec u\otimes(\vec v\otimes \vec w))=(\vec u\otimes \vec v)\otimes \vec w$$
>显然$T\circ S=S\circ T=\mathrm{id}$.

因此, 当我们写一些线性空间的张量积时, 我们可以忽略其顺序.

>[!corollary] 推论2
>设$V$是线性空间, 在$V\otimes V\otimes V$中, 对于$\vec u,\vec v,\vec w\in V$总有结合律成立:
>$$(\vec u\otimes\vec v)\otimes\vec w=\vec u\otimes(\vec v\otimes\vec w)$$

>[!proof]
>考虑$V\times V\times V$到$V\otimes(V\otimes V)$和$(V\otimes V)\otimes V$的线性映射, 再利用泛性质即可.

>[!warning] 为什么元素的交换律不成立?
>$U\otimes V$和$V\otimes U$是同构的, 因为我们总能通过**调换顺序**的映射$T$在两个空间之间建立一个完美的线性对应, 但这不代表其内部可以交换.

>[!definition] 多元张量积
>由于张量积的结合律成立, 我们可以定义有限个线性空间的张量积. 对于线性空间$V_1,\ldots,V_n$, 显然
>$$\esum{V}{\otimes}{n}$$
>在同构的意义下是唯一的, 称之为$V_1,\ldots,V_n$的**张量积**. 其每个纯张量都形如$\vec v_1\otimes\cdots\otimes\vec v_n$.

